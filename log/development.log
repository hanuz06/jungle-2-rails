

Started GET "/" for 10.0.2.2 at 2019-12-19 19:05:51 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (12.7ms)
  Rendered products/index.html.erb within layouts/application (27.9ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.8ms)
Completed 200 OK in 355ms (Views: 352.8ms | ActiveRecord: 1.2ms)


Started POST "/cart/add_item?product_id=11" for 10.0.2.2 at 2019-12-19 19:05:54 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"WEpYtxovETH6av0tio3dnd5N9UEXio0R99zp4P9bWa1f19U0cje4K7bmSD2VafxEPSkbQ/4ZsNrumggSgBzotw==", "product_id"=>"11"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-19 19:05:54 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (16.8ms)
  Rendered products/index.html.erb within layouts/application (39.9ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (2.8ms)
Completed 200 OK in 591ms (Views: 588.6ms | ActiveRecord: 1.2ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-19 19:05:57 +0000
Processing by CartsController#show as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 11
  Rendered carts/_item.html.erb (3.0ms)
  Rendered carts/show.html.erb within layouts/application (25.2ms)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (8.1ms)
Completed 200 OK in 497ms (Views: 495.2ms | ActiveRecord: 0.9ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-19 19:06:06 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XWKlk01t9wZoURVfNC03wuL8Azvl9cT/p7x1fmGRG6xa/ygQJXVeHCTdoE8ryRYbAZjtOQxm+TS++pSMHtaqtg==", "stripeToken"=>"tok_1FrUJzEasRHPlVlm9ZTxHall", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 11[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "kvirani@gmail.com"], ["total_cents", 98765], ["stripe_charge_id", "ch_1FrUK2EasRHPlVlmgFBihWlS"], ["created_at", "2019-12-19 19:06:07.132426"], ["updated_at", "2019-12-19 19:06:07.132426"]]
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 11], ["quantity", 1], ["item_price_cents", 98765], ["total_price_cents", 98765], ["order_id", 21], ["created_at", "2019-12-19 19:06:07.152366"], ["updated_at", "2019-12-19 19:06:07.152366"]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 21]]
  Rendered user_mailer/_item.html.erb (1.5ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (13.9ms)

UserMailer#confirm_email: processed outbound mail in 120.1ms

Sent mail to lee1975uz@gmail.com (685.9ms)
Date: Thu, 19 Dec 2019 19:06:07 +0000
From: junglerails2020@gmail.com
To: lee1975uz@gmail.com
Message-ID: <5dfbca1f476c3_1a133f96e0c8726893529@ubuntu.mail>
Subject: Order confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    
<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Order confirmation </h1>
    <p>
     Dear Andrey! Thank you for your order. Your order ID:21.<br>
    </p>
    <h5>Order summary</h5>
    <table>
            <tr>
  <td>
    <img src="/uploads/product/image/11/tiny_furniture2.jpg" alt="Tiny furniture2" />
  </td>
  <td>
    <h4>Electric Chair</h4>
    <br>
    <p>Farm-to-table leggings chia. Scenester craft beer retro narwhal shabby chic fixie art party portland. Flexitarian fashion axe bitters scenester. Hammock kickstarter lumbersexual health everyday keffiyeh chartreuse pitchfork. Cronut cold-pressed deep v 3 wolf moon venmo ramps.</p>
  </td>
  <td>
    $987.65
  </td>
  <td class='text text-center'>    
    1    
  </td>
  <td>
    $987.65
  </td>
</tr>

    </table>
    <p>Have a great day!</p>
    <p>Our site:</p>https://dashboard.heroku.com/apps/serene-anchorage-80884
  </body>
</html>
  </body>
</html>

Redirected to http://localhost:3000/orders/21
Completed 302 Found in 1704ms (ActiveRecord: 9.0ms)


Started GET "/orders/21" for 10.0.2.2 at 2019-12-19 19:06:08 +0000
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 21]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 11]]
  Rendered orders/_item.html.erb (1.0ms)
  Rendered orders/show.html.erb within layouts/application (18.8ms)
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (5.3ms)
Completed 200 OK in 427ms (Views: 423.5ms | ActiveRecord: 2.1ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:06:20 +0000
  [1m[36mActiveRecord::SchemaMigration Load (53.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (117.8ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (409.0ms)
  Rendered products/index.html.erb within layouts/application (718.5ms)
  [1m[36mCategory Load (24.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (425.2ms)
Completed 200 OK in 3131ms (Views: 2663.3ms | ActiveRecord: 229.2ms)


Started POST "/cart/add_item?product_id=11" for 10.0.2.2 at 2019-12-20 05:06:52 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"X/xhZrvWGGnItnT+I+EW9TTG0Cuq9/PeG5pWPcNic4NYYezl086xc4Q6we48BTcs16I+KUNkzhUC3LfPvCXCmQ==", "product_id"=>"11"}
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:06:52 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (43.9ms)
  Rendered products/index.html.erb within layouts/application (58.7ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (4.8ms)
Completed 200 OK in 634ms (Views: 631.9ms | ActiveRecord: 1.3ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-20 05:06:56 +0000
Processing by CartsController#show as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 11
  Rendered carts/_item.html.erb (5.3ms)
  Rendered carts/show.html.erb within layouts/application (19.8ms)
  [1m[36mCategory Load (0.4ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (4.0ms)
Completed 200 OK in 433ms (Views: 430.7ms | ActiveRecord: 1.2ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:07:03 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"oOV3uvqYT0rLKngA1OqIjjLzQY5qMDloXCf+tm5CWd+nePo5koDmUIemzRDLDqlX0ZevjIOjBKNFYR9EEQXoxQ==", "stripeToken"=>"tok_1FrdhaEasRHPlVlmzvv2fQz7", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 11[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (82.3ms)[0m  [1mINSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "kvirani@gmail.com"], ["total_cents", 98765], ["stripe_charge_id", "ch_1FrdhdEasRHPlVlmSjAZspWK"], ["created_at", "2019-12-20 05:07:05.666248"], ["updated_at", "2019-12-20 05:07:05.666248"]]
  [1m[35mSQL (305.1ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 11], ["quantity", 1], ["item_price_cents", 98765], ["total_price_cents", 98765], ["order_id", 22], ["created_at", "2019-12-20 05:07:05.772680"], ["updated_at", "2019-12-20 05:07:05.772680"]]
  [1m[36m (26.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (4.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mLineItem Load (1.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 22]]
  Rendered user_mailer/_item.html.erb (4.1ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (82.3ms)

UserMailer#confirm_email: processed outbound mail in 1758.3ms

Sent mail to lee1975uz@gmail.com (2073.4ms)
Date: Fri, 20 Dec 2019 05:07:08 +0000
From: junglerails2020@gmail.com
To: lee1975uz@gmail.com
Message-ID: <5dfc56fc36e34_9a83fbbf84391f0350ed@ubuntu.mail>
Subject: Order confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    
<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Order confirmation </h1>
    <p>
     Dear Andrey! Thank you for your order. Your order ID:22.<br>
    </p>
    <h5>Order summary</h5>
    <table>
            <tr>
  <td>
    <img src="/uploads/product/image/11/tiny_furniture2.jpg" alt="Tiny furniture2" />
  </td>
  <td>
    <h4>Electric Chair</h4>
    <br>
    <p>Farm-to-table leggings chia. Scenester craft beer retro narwhal shabby chic fixie art party portland. Flexitarian fashion axe bitters scenester. Hammock kickstarter lumbersexual health everyday keffiyeh chartreuse pitchfork. Cronut cold-pressed deep v 3 wolf moon venmo ramps.</p>
  </td>
  <td>
    $987.65
  </td>
  <td class='text text-center'>    
    1    
  </td>
  <td>
    $987.65
  </td>
</tr>

    </table>
    <p>Have a great day!</p>
    <p>Our site:</p>https://dashboard.heroku.com/apps/serene-anchorage-80884
  </body>
</html>
  </body>
</html>

Redirected to http://localhost:3000/orders/22
Completed 302 Found in 6115ms (ActiveRecord: 451.2ms)


Started GET "/orders/22" for 10.0.2.2 at 2019-12-20 05:07:10 +0000
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[35mOrder Load (0.3ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 22]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 11]]
  Rendered orders/_item.html.erb (2.4ms)
  Rendered orders/show.html.erb within layouts/application (32.4ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.3ms)
Completed 200 OK in 548ms (Views: 542.5ms | ActiveRecord: 1.7ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:14:34 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (19.2ms)
  Rendered products/index.html.erb within layouts/application (37.7ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (9.6ms)
Completed 200 OK in 559ms (Views: 556.7ms | ActiveRecord: 1.0ms)


Started POST "/cart/add_item?product_id=11" for 10.0.2.2 at 2019-12-20 05:14:36 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"akrGd1UH+EWMUxLKJ+VkwYRylu0bMSY3U+vhPPTodZht10v0PR9RX8Dfp9o4AUUYZxZ47/KiG/xKrQDOi6/Egg==", "product_id"=>"11"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:14:37 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (29.0ms)
  Rendered products/index.html.erb within layouts/application (42.9ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.2ms)
Completed 200 OK in 464ms (Views: 461.9ms | ActiveRecord: 1.0ms)


Started POST "/cart/add_item?product_id=9" for 10.0.2.2 at 2019-12-20 05:14:41 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"ROYB+0SjYZ0eoKBqVO/eu6qPi4KH9uLME0B1JIUtrNhDe4x4LLvIh1IsFXpLC/9iSetlgG5l3wcKBpTW+modwg==", "product_id"=>"9"}
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:14:41 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (23.9ms)
  Rendered products/index.html.erb within layouts/application (37.9ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.9ms)
Completed 200 OK in 406ms (Views: 404.3ms | ActiveRecord: 1.0ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-20 05:14:43 +0000
Processing by CartsController#show as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)
  Rendered carts/_item.html.erb (1.5ms)
  Rendered carts/_item.html.erb (1.9ms)
  Rendered carts/show.html.erb within layouts/application (48.0ms)
  [1m[36mCategory Load (0.5ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (4.0ms)
Completed 200 OK in 627ms (Views: 624.7ms | ActiveRecord: 1.3ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:14:50 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1kAXDFeVtN3oBRJwPm2shvdBkzOYiRB5Rmhb8mwUZVjR3ZqPP40dx6SJp2AhiY1fFCV9MXEaLbJfLroAE1PUQg==", "stripeToken"=>"tok_1Frdp5EasRHPlVlmlUjXfebK", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "kvirani@gmail.com"], ["total_cents", 301394], ["stripe_charge_id", "ch_1Frdp9EasRHPlVlm4PHmty0a"], ["created_at", "2019-12-20 05:14:51.143235"], ["updated_at", "2019-12-20 05:14:51.143235"]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 9], ["quantity", 1], ["item_price_cents", 202629], ["total_price_cents", 202629], ["order_id", 23], ["created_at", "2019-12-20 05:14:51.151245"], ["updated_at", "2019-12-20 05:14:51.151245"]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 11], ["quantity", 1], ["item_price_cents", 98765], ["total_price_cents", 98765], ["order_id", 23], ["created_at", "2019-12-20 05:14:51.157689"], ["updated_at", "2019-12-20 05:14:51.157689"]]
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1  [["order_id", 23]]
  Rendered user_mailer/_item.html.erb (105.4ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (131.5ms)

UserMailer#confirm_email: processed outbound mail in 397.5ms
Completed 500 Internal Server Error in 1302ms (ActiveRecord: 6.8ms)

ActionView::Template::Error (undefined local variable or method `ea' for #<#<Class:0x00007f77f0e2cc90>:0x00007f77f0527b18>):
     6:     <%= humanized_money_with_symbol product.price %>
     7:   </td>
     8:   <td >    
     9:     <%= quantity ea %>    
    10:   </td>
    11:   <td>
    12:     <%= humanized_money_with_symbol product.price * quantity %>
  app/views/user_mailer/_item.html.erb:9:in `_app_views_user_mailer__item_html_erb___3504845856367366009_70076554803100'
  app/views/user_mailer/confirm_email.html.erb:15:in `block in _app_views_user_mailer_confirm_email_html_erb__3896735515677029905_70076554895880'
  app/views/user_mailer/confirm_email.html.erb:14:in `_app_views_user_mailer_confirm_email_html_erb__3896735515677029905_70076554895880'
  app/mailers/user_mailer.rb:8:in `confirm_email'
  app/controllers/orders_controller.rb:21:in `create'


  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (572.6ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (514.6ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (1177.5ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:15:18 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1kAXDFeVtN3oBRJwPm2shvdBkzOYiRB5Rmhb8mwUZVjR3ZqPP40dx6SJp2AhiY1fFCV9MXEaLbJfLroAE1PUQg==", "stripeToken"=>"tok_1Frdp5EasRHPlVlmlUjXfebK", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)[0m
Completed 500 Internal Server Error in 286ms (ActiveRecord: 0.5ms)

Stripe::InvalidRequestError (You cannot use a Stripe token more than once: tok_1Frdp5EasRHPlVlmlUjXfebK.):
  app/controllers/orders_controller.rb:39:in `perform_stripe_charge'
  app/controllers/orders_controller.rb:15:in `create'


  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.7ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (530.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (461.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (1066.4ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:15:32 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (15.0ms)
  Rendered products/index.html.erb within layouts/application (40.3ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.5ms)
Completed 200 OK in 454ms (Views: 452.8ms | ActiveRecord: 1.0ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-20 05:15:34 +0000
Processing by CartsController#show as HTML
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)[0m
  Rendered carts/_item.html.erb (2.8ms)
  Rendered carts/_item.html.erb (1.4ms)
  Rendered carts/show.html.erb within layouts/application (47.2ms)
  [1m[35mCategory Load (0.6ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (5.0ms)
Completed 200 OK in 726ms (Views: 722.9ms | ActiveRecord: 2.1ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:15:40 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KFxJxIbLSZ6HKSo9vrIGo6onbpDUaUjBU9Zl6LeyJxgvwcRH7tPghMulny2hVid6SUOAkj36dQpKkIQayPWWAg==", "stripeToken"=>"tok_1FrdpvEasRHPlVlmGMwwRv0b", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "kvirani@gmail.com"], ["total_cents", 301394], ["stripe_charge_id", "ch_1FrdpyEasRHPlVlmlA2ybhTC"], ["created_at", "2019-12-20 05:15:41.821571"], ["updated_at", "2019-12-20 05:15:41.821571"]]
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 9], ["quantity", 1], ["item_price_cents", 202629], ["total_price_cents", 202629], ["order_id", 24], ["created_at", "2019-12-20 05:15:41.841251"], ["updated_at", "2019-12-20 05:15:41.841251"]]
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 11], ["quantity", 1], ["item_price_cents", 98765], ["total_price_cents", 98765], ["order_id", 24], ["created_at", "2019-12-20 05:15:41.857816"], ["updated_at", "2019-12-20 05:15:41.857816"]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 24]]
  Rendered user_mailer/_item.html.erb (34.0ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (47.7ms)

UserMailer#confirm_email: processed outbound mail in 153.0ms
Completed 500 Internal Server Error in 1036ms (ActiveRecord: 11.6ms)

ActionView::Template::Error (undefined method `quantity' for #<#<Class:0x00007f77f0e2cc90>:0x00007f77f162b5e0>):
     6:     <%= humanized_money_with_symbol product.price %>
     7:   </td>
     8:   <td >    
     9:     <%= quantity 'ea' %>    
    10:   </td>
    11:   <td>
    12:     <%= humanized_money_with_symbol product.price * quantity %>
  app/views/user_mailer/_item.html.erb:9:in `_app_views_user_mailer__item_html_erb___3504845856367366009_70076563772840'
  app/views/user_mailer/confirm_email.html.erb:15:in `block in _app_views_user_mailer_confirm_email_html_erb__3896735515677029905_70076554895880'
  app/views/user_mailer/confirm_email.html.erb:14:in `_app_views_user_mailer_confirm_email_html_erb__3896735515677029905_70076554895880'
  app/mailers/user_mailer.rb:8:in `confirm_email'
  app/controllers/orders_controller.rb:21:in `create'


  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.9ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (712.2ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (574.9ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (1237.2ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-20 05:16:04 +0000
Processing by CartsController#show as HTML
  [1m[35mProduct Load (1.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)
  Rendered carts/_item.html.erb (3.4ms)
  Rendered carts/_item.html.erb (2.2ms)
  Rendered carts/show.html.erb within layouts/application (49.3ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.0ms)
Completed 200 OK in 598ms (Views: 595.4ms | ActiveRecord: 1.9ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:16:10 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kGmkLaAnreeuW8htbzAnTgedJ+8FxGA6ox6N+aLgY3KX9CmuyD8E/eLXfX1w1AaX5PnJ7exXXfG6WGwL3afSaA==", "stripeToken"=>"tok_1FrdqOEasRHPlVlmVUv0g5Wm", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9)[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "kvirani@gmail.com"], ["total_cents", 301394], ["stripe_charge_id", "ch_1FrdqSEasRHPlVlmQYtnBnUH"], ["created_at", "2019-12-20 05:16:11.635688"], ["updated_at", "2019-12-20 05:16:11.635688"]]
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 9], ["quantity", 1], ["item_price_cents", 202629], ["total_price_cents", 202629], ["order_id", 25], ["created_at", "2019-12-20 05:16:11.658194"], ["updated_at", "2019-12-20 05:16:11.658194"]]
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 11], ["quantity", 1], ["item_price_cents", 98765], ["total_price_cents", 98765], ["order_id", 25], ["created_at", "2019-12-20 05:16:11.672034"], ["updated_at", "2019-12-20 05:16:11.672034"]]
  [1m[35m (1.5ms)[0m  COMMIT
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mLineItem Load (0.8ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1  [["order_id", 25]]
  Rendered user_mailer/_item.html.erb (1.7ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (22.5ms)

UserMailer#confirm_email: processed outbound mail in 174.0ms
Completed 500 Internal Server Error in 1065ms (ActiveRecord: 11.7ms)

SyntaxError (/vagrant/jungle-rails/app/views/user_mailer/_item.html.erb:9: syntax error, unexpected ')', expecting &. or :: or '[' or '.'
...uffer.append=( quantity, 'ea' );@output_buffer.safe_append='...
...                               ^
/vagrant/jungle-rails/app/views/user_mailer/_item.html.erb:16: syntax error, unexpected keyword_ensure, expecting ')'
/vagrant/jungle-rails/app/views/user_mailer/_item.html.erb:18: syntax error, unexpected keyword_end, expecting ')'):
  app/views/user_mailer/_item.html.erb:9: syntax error, unexpected ')', expecting &. or :: or '[' or '.'
  app/views/user_mailer/_item.html.erb:16: syntax error, unexpected keyword_ensure, expecting ')'
  app/views/user_mailer/_item.html.erb:18: syntax error, unexpected keyword_end, expecting ')'
  app/views/user_mailer/confirm_email.html.erb:15:in `block in _app_views_user_mailer_confirm_email_html_erb__3896735515677029905_70076554895880'
  app/views/user_mailer/confirm_email.html.erb:14:in `_app_views_user_mailer_confirm_email_html_erb__3896735515677029905_70076554895880'
  app/mailers/user_mailer.rb:8:in `confirm_email'
  app/controllers/orders_controller.rb:21:in `create'


  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.6ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered .bundle/gems/actionpack-4.2.6/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (528.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (467.9ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered .bundle/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (1070.7ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:22:13 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (16.5ms)
  Rendered products/index.html.erb within layouts/application (25.7ms)
  [1m[35mCategory Load (0.2ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.5ms)
Completed 200 OK in 366ms (Views: 365.0ms | ActiveRecord: 0.8ms)


Started POST "/cart/add_item?product_id=11" for 10.0.2.2 at 2019-12-20 05:22:16 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"rtMiFxc0+8SREj7YxjAp0oHeGt4sdtSctOwJsWmFk9qpTq+UfyxS3t2ei8jZ1AgLYrr03MXl6VetquhDFsIiwA==", "product_id"=>"11"}
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:22:16 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (25.6ms)
  Rendered products/index.html.erb within layouts/application (60.8ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.7ms)
Completed 200 OK in 602ms (Views: 598.8ms | ActiveRecord: 1.6ms)


Started POST "/cart/add_item?product_id=9" for 10.0.2.2 at 2019-12-20 05:22:17 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"lD7cl/2aNVGJkRlAUi7ukNu1j27wgtNRIeXfiYVdpEKTo1EUlYKcS8UdrFBNys9JONFhbBkR7po4oz57+hoVWA==", "product_id"=>"9"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:22:17 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (20.2ms)
  Rendered products/index.html.erb within layouts/application (38.5ms)
  [1m[35mCategory Load (0.9ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (4.4ms)
Completed 200 OK in 425ms (Views: 422.5ms | ActiveRecord: 1.4ms)


Started POST "/cart/add_item?product_id=5" for 10.0.2.2 at 2019-12-20 05:22:20 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"P6L3EnxWLocnaOht+QDnODx44OCVkK7yCRPZXravICg4P3qRFE6HnWvkXX3m5Mbh3xwO4nwDkzkQVTisyeiRMg==", "product_id"=>"5"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:22:20 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (21.0ms)
  Rendered products/index.html.erb within layouts/application (32.6ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (4.8ms)
Completed 200 OK in 390ms (Views: 387.3ms | ActiveRecord: 1.5ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-20 05:22:22 +0000
Processing by CartsController#show as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9, 5)[0m
  Rendered carts/_item.html.erb (2.3ms)
  Rendered carts/_item.html.erb (2.1ms)
  Rendered carts/_item.html.erb (2.0ms)
  Rendered carts/show.html.erb within layouts/application (48.1ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (11.3ms)
Completed 200 OK in 399ms (Views: 397.9ms | ActiveRecord: 1.0ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:22:28 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LdDHLP0FcmO/Wik07wmhbj4HyqFc6flr4Z7IhgirELAqTUqvlR3befPWnCTw7YC33WMko7V6xKD42Cl0d+yhqg==", "stripeToken"=>"tok_1FrdwUEasRHPlVlmyYA8C6st", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9, 5)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["email", "kvirani@gmail.com"], ["total_cents", 725288], ["stripe_charge_id", "ch_1FrdwXEasRHPlVlmOBKVcMYS"], ["created_at", "2019-12-20 05:22:29.602520"], ["updated_at", "2019-12-20 05:22:29.602520"]]
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 5], ["quantity", 1], ["item_price_cents", 122500], ["total_price_cents", 122500], ["order_id", 26], ["created_at", "2019-12-20 05:22:29.620533"], ["updated_at", "2019-12-20 05:22:29.620533"]]
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 9], ["quantity", 2], ["item_price_cents", 202629], ["total_price_cents", 405258], ["order_id", 26], ["created_at", "2019-12-20 05:22:29.639300"], ["updated_at", "2019-12-20 05:22:29.639300"]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 11], ["quantity", 2], ["item_price_cents", 98765], ["total_price_cents", 197530], ["order_id", 26], ["created_at", "2019-12-20 05:22:29.649218"], ["updated_at", "2019-12-20 05:22:29.649218"]]
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1  [["order_id", 26]]
  Rendered user_mailer/_item.html.erb (0.6ms)
  Rendered user_mailer/_item.html.erb (0.1ms)
  Rendered user_mailer/_item.html.erb (0.1ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (49.3ms)

UserMailer#confirm_email: processed outbound mail in 201.8ms

Sent mail to lee1975uz@gmail.com (1654.9ms)
Date: Fri, 20 Dec 2019 05:22:29 +0000
From: junglerails2020@gmail.com
To: lee1975uz@gmail.com
Message-ID: <5dfc5a95d3b34_9a83fbbf852adfc351bb@ubuntu.mail>
Subject: Order confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    
<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Order confirmation </h1>
    <p>
     Dear Andrey! Thank you for your order. Your order ID:26.<br>
    </p>
    <h3>Order summary</h3>
    <table>
     <tbody>
            <tr>  
  <td>
    <h4>Russian Spy Shoes</h4>    
  </td>  
</tr>

            <tr>  
  <td>
    <h4>World&#39;s Largest Smartwatch</h4>    
  </td>  
</tr>

            <tr>  
  <td>
    <h4>Electric Chair</h4>    
  </td>  
</tr>

     </tbody>
      <tfoot>
        <tr>
          <th colspan="4">
            TOTAL:
          </th>
          <th>
            $7,252.88
          </th>
        </tr>
      </tfoot>
    </table>
    <p>Have a great day!</p>
    <span>Our site:</span>https://dashboard.heroku.com/apps/serene-anchorage-80884
  </body>
</html>
  </body>
</html>

Redirected to http://localhost:3000/orders/26
Completed 302 Found in 2786ms (ActiveRecord: 9.9ms)


Started GET "/orders/26" for 10.0.2.2 at 2019-12-20 05:22:31 +0000
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1  [["order_id", 26]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1[0m  [["id", 5]]
  Rendered orders/_item.html.erb (2.0ms)
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 9]]
  Rendered orders/_item.html.erb (2.4ms)
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1[0m  [["id", 11]]
  Rendered orders/_item.html.erb (2.7ms)
  Rendered orders/show.html.erb within layouts/application (50.8ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.0ms)
Completed 200 OK in 519ms (Views: 514.9ms | ActiveRecord: 2.5ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:25:33 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (18.0ms)
  Rendered products/index.html.erb within layouts/application (28.0ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.2ms)
Completed 200 OK in 364ms (Views: 362.8ms | ActiveRecord: 0.9ms)


Started POST "/cart/add_item?product_id=11" for 10.0.2.2 at 2019-12-20 05:25:35 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"mM+/rNcJQTDNS9XmMQTiJnRtYDjeQP2fZ7KS+X+viCSfUjIvvxHoKoHHYPYu4MP/lwmOOjfTwFR+9HMLAOg5Pg==", "product_id"=>"11"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:25:35 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (18.8ms)
  Rendered products/index.html.erb within layouts/application (48.1ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (9.3ms)
Completed 200 OK in 671ms (Views: 669.6ms | ActiveRecord: 0.9ms)


Started POST "/cart/add_item?product_id=9" for 10.0.2.2 at 2019-12-20 05:25:39 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"HPC2QfsxJH1+DdG3S6owGuVIh6ExLJorgm2hu9XO8cgbbTvCkymNZzKBZKdUThHDBixpo9i/p+CbK0BJqolA0g==", "product_id"=>"9"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:25:39 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (14.0ms)
  Rendered products/index.html.erb within layouts/application (34.5ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (2.7ms)
Completed 200 OK in 542ms (Views: 540.5ms | ActiveRecord: 1.0ms)


Started POST "/cart/add_item?product_id=9" for 10.0.2.2 at 2019-12-20 05:25:41 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"kT8VTeTLtvXxKH2+QbU3ZHpIte3WROIv61DU6lBIMveWopjOjNMf772kyK5eURa9mSxb7z/X3+TyFjUYLw+D7Q==", "product_id"=>"9"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:25:42 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (15.4ms)
  Rendered products/index.html.erb within layouts/application (40.1ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.2ms)
Completed 200 OK in 581ms (Views: 578.8ms | ActiveRecord: 1.2ms)


Started POST "/cart/add_item?product_id=9" for 10.0.2.2 at 2019-12-20 05:25:45 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"n0ghhoJVqgH7nKWoAI4NHpnTtjwa4bjz9CABRAA2jNCY1awF6k0DG7cQELgfaizHerdYPvNyhTjtZuC2f3E9yg==", "product_id"=>"9"}
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:25:45 +0000
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC
  Rendered products/_product.html.erb (19.3ms)
  Rendered products/index.html.erb within layouts/application (40.0ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (5.5ms)
Completed 200 OK in 554ms (Views: 551.9ms | ActiveRecord: 1.0ms)


Started POST "/cart/add_item?product_id=5" for 10.0.2.2 at 2019-12-20 05:25:51 +0000
Processing by CartsController#add_item as HTML
  Parameters: {"authenticity_token"=>"XzxvKC3jmbHbzsdYhdIWzDORA5QVCJLd0eMhvd63fZpYoeKrRfswq5dCckiaNjcV0PXtlvybrxbIpcBPofDMgA==", "product_id"=>"5"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 10.0.2.2 at 2019-12-20 05:25:51 +0000
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"  ORDER BY "products"."created_at" DESC[0m
  Rendered products/_product.html.erb (19.2ms)
  Rendered products/index.html.erb within layouts/application (41.8ms)
  [1m[35mCategory Load (0.3ms)[0m  SELECT "categories".* FROM "categories"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.7ms)
Completed 200 OK in 519ms (Views: 516.8ms | ActiveRecord: 1.1ms)


Started GET "/cart" for 10.0.2.2 at 2019-12-20 05:25:54 +0000
Processing by CartsController#show as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9, 5)
  Rendered carts/_item.html.erb (4.4ms)
  Rendered carts/_item.html.erb (3.3ms)
  Rendered carts/_item.html.erb (1.5ms)
  Rendered carts/show.html.erb within layouts/application (71.0ms)
  [1m[36mCategory Load (0.2ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.4ms)
Completed 200 OK in 451ms (Views: 448.9ms | ActiveRecord: 0.9ms)


Started POST "/orders" for 10.0.2.2 at 2019-12-20 05:26:01 +0000
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SuMF1ByocITmjX9/ovCrvT0lxnlgXrgO38KUaHKTV6FNfohXdLDZnqoBym+9FIpk3kEoe4nNhcXGhHWaDdTmuw==", "stripeToken"=>"tok_1FrdzvEasRHPlVlmhR5uWLbs", "stripeTokenType"=>"card", "stripeEmail"=>"kvirani@gmail.com"}
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" IN (11, 9, 5)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "orders" ("email", "total_cents", "stripe_charge_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "kvirani@gmail.com"], ["total_cents", 829152], ["stripe_charge_id", "ch_1FrdzyEasRHPlVlmfN0qE1Hd"], ["created_at", "2019-12-20 05:26:03.210091"], ["updated_at", "2019-12-20 05:26:03.210091"]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 5], ["quantity", 1], ["item_price_cents", 122500], ["total_price_cents", 122500], ["order_id", 27], ["created_at", "2019-12-20 05:26:03.217192"], ["updated_at", "2019-12-20 05:26:03.217192"]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["product_id", 9], ["quantity", 3], ["item_price_cents", 202629], ["total_price_cents", 607887], ["order_id", 27], ["created_at", "2019-12-20 05:26:03.223743"], ["updated_at", "2019-12-20 05:26:03.223743"]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "line_items" ("product_id", "quantity", "item_price_cents", "total_price_cents", "order_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["product_id", 11], ["quantity", 1], ["item_price_cents", 98765], ["total_price_cents", 98765], ["order_id", 27], ["created_at", "2019-12-20 05:26:03.231567"], ["updated_at", "2019-12-20 05:26:03.231567"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 27]]
  Rendered user_mailer/_item.html.erb (0.1ms)
  Rendered user_mailer/_item.html.erb (0.1ms)
  Rendered user_mailer/_item.html.erb (0.1ms)
  Rendered user_mailer/confirm_email.html.erb within layouts/mailer (56.3ms)

UserMailer#confirm_email: processed outbound mail in 189.1ms

Sent mail to lee1975uz@gmail.com (1190.1ms)
Date: Fri, 20 Dec 2019 05:26:03 +0000
From: junglerails2020@gmail.com
To: lee1975uz@gmail.com
Message-ID: <5dfc5b6b6b076_9a83fbc0670b76c3522@ubuntu.mail>
Subject: Order confirmation
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    
<!DOCTYPE html>
<html>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <h1>Order confirmation </h1>
    <p>
     Dear Andrey! Thank you for your order. Your order ID:27.<br>
    </p>
    <h3>Order summary</h3>
    <table>
     <tbody>
            <tr>  
  <td>
    <h4>Russian Spy Shoes</h4>    
  </td>  
</tr>

            <tr>  
  <td>
    <h4>World&#39;s Largest Smartwatch</h4>    
  </td>  
</tr>

            <tr>  
  <td>
    <h4>Electric Chair</h4>    
  </td>  
</tr>

     </tbody>
      <tfoot>
        <tr>  
          <td>
            TOTAL:
          </td>
          <td>
            $8,291.52
          </td>
        </tr>
      </tfoot>
    </table>
    <p>Have a great day!</p>
    <span>Our site: </span>https://dashboard.heroku.com/apps/serene-anchorage-80884
  </body>
</html>
  </body>
</html>

Redirected to http://localhost:3000/orders/27
Completed 302 Found in 3246ms (ActiveRecord: 6.1ms)


Started GET "/orders/27" for 10.0.2.2 at 2019-12-20 05:26:04 +0000
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[35mOrder Load (0.9ms)[0m  SELECT  "orders".* FROM "orders" WHERE "orders"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = $1[0m  [["order_id", 27]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 5]]
  Rendered orders/_item.html.erb (1.8ms)
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1[0m  [["id", 9]]
  Rendered orders/_item.html.erb (3.4ms)
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT 1  [["id", 11]]
  Rendered orders/_item.html.erb (3.5ms)
  Rendered orders/show.html.erb within layouts/application (72.1ms)
  [1m[36mCategory Load (0.3ms)[0m  [1mSELECT "categories".* FROM "categories"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered layouts/_top_nav.html.erb (3.9ms)
Completed 200 OK in 526ms (Views: 521.0ms | ActiveRecord: 3.1ms)
